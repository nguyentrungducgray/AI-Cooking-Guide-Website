@{
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}
@model List<AI_Cooking_Guide_Website.Models.ContactModel>

<main>
    <div class="head-title">
        <div class="left">
            <h1>Messenger</h1>
            <ul class="breadcrumb">
                <li>
                    <a href="#">Dashboard</a>
                </li>
                <li><i class='bx bx-chevron-right'></i></li>
                <li>
                    <a class="active" href="#">Messenger</a>
                </li>
            </ul>
        </div>
    </div>

    <!-- Success Message Display -->
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="alert alert-success">
            @TempData["SuccessMessage"]
        </div>
    }

    <div class="table-container">
        <table class="styled-table">
            <thead>
                <tr>
                    <th>FullName</th>
                    <th>Email</th>
                    <th>Phone</th>
                    <th>Subject</th>
                    <th>Message</th>
                    <th>DateSent</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var contact in Model)
                {
                    <tr>
                        <td>@contact.FullName</td>
                        <td>@contact.Email</td>
                        <td>@contact.Phone</td>
                        <td>@contact.Subject</td>
                        <td>@contact.Message</td>
                        <td>@contact.DateSent.ToString("dd/MM/yyyy HH:mm")</td>
                        <td>
                            <!-- Nút phản hồi -->
                            <a href="@Url.Action("Reply", "Messenger", new { id = contact.Id })" class="btn btn-info">Phản hồi</a>

                            <!-- Nút xóa -->
                            <a href="@Url.Action("Delete", "Messenger", new { id = contact.Id })" class="btn btn-danger" onclick="return confirm('Bạn có chắc chắn muốn xóa tin nhắn này không?')">Xóa</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</main>
