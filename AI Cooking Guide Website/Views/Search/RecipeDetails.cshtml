@model AI_Cooking_Guide_Website.Models.RecipeDetailModel

<section class="py-3 py-md-5 py-xl-10 bsb-section-py-xxl-1 bg-accent">
    <div class="container">
        <div class="row justify-content-md-center">
            <div class="col-12">
                <h2 class="display-4 fw-bold mb-4 text-center text-accent-emphasis">@Model.Title</h2>
                <img class="img-fluid" src="@Model.Image" alt="@Model.Title" />

                <p class="mt-3"><strong>Thời gian chuẩn bị:</strong> @Model.ReadyInMinutes phút</p>
                <p><strong>Khẩu phần ăn:</strong> @Model.Servings người</p>
                <p><strong>Score:</strong> @Model.SpoonacularScore</p>

                <h3 class="mt-4">Thông tin:</h3>
                <p>@Html.Raw(Model.Summary)</p>

                <h3 class="mt-4">Loại món ăn:</h3>
                <ul>
                    @if (Model.DishTypes != null && Model.DishTypes.Any())
                    {
                        foreach (var dishType in Model.DishTypes)
                        {
                            <li>@dishType</li>
                        }
                    }
                    else
                    {
                        <li>Không có loại món ăn nào.</li>
                    }
                </ul>

                <h3 class="mt-4">Chế độ ăn phù hợp:</h3>
                <ul>
                    @if (Model.Diets != null && Model.Diets.Any())
                    {
                        foreach (var diet in Model.Diets)
                        {
                            <li>@diet</li>
                        }
                    }
                    else
                    {
                        <li>Không có chế độ ăn nào.</li>
                    }
                </ul>

                <h3 class="mt-4">Hướng dẫn:</h3>
                <p>@Model.Instructions</p>

                <h3 class="mt-4">Các bước thực hiện:</h3>
                <ol>
                    @if (Model.AnalyzedInstructions != null && Model.AnalyzedInstructions.Any())
                    {
                        @foreach (var instruction in Model.AnalyzedInstructions)
                        {
                            @foreach (var step in instruction.Steps)
                            {
                                <li>
                                    <p><strong>Bước @step.Number:</strong> @step.Step</p>
                                    <ul>
                                        <li>Nguyên liệu:</li>
                                        @foreach (var ingredient in step.Ingredients)
                                        {
                                            <li>@ingredient.LocalizedName</li>
                                            @if (!string.IsNullOrEmpty(ingredient.Image))
                                            {
                                                <img src="@($"https://spoonacular.com/cdn/ingredients_100x100/{ingredient.Image}")" alt="@ingredient.LocalizedName" style="width: 30px; height: 30px; margin-left: 5px;" />
                                            }
                                        }
                                    </ul>
                                </li>
                            }
                        }
                    }
                    else
                    {
                        <li>Không có thông tin bước thực hiện nào.</li>
                    }
                </ol>

                <a href="@Model.SourceUrl" target="_blank" class="btn btn-primary">Xem trên trang nguồn</a>
            </div>
        </div>
    </div>
</section>
